{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst thead = document.querySelector('thead');\nconst theadRow = thead.querySelector('tr');\nconst nav = theadRow.querySelectorAll('th');\n\nconst tbody = document.querySelector('tbody');\nlet rows = [...tbody.querySelectorAll('tr')];\n\nlet count = 0;\nlet activeRow = null;\n\nfunction convertToNumber(str) {\n  const cleanStr = str\n    .split('')\n    .filter((ch) => (ch >= '0' && ch <= '9') || ch === '.')\n    .join('');\n\n  return parseFloat(cleanStr);\n}\n\nfunction updateRows() {\n  rows = [...tbody.querySelectorAll('tr')];\n}\n\nfunction sortList(columnIndex, isReverse) {\n  rows.sort((rowA, rowB) => {\n    let value1 = rowA.querySelector(\n      `td:nth-child(${columnIndex + 1})`,\n    ).textContent;\n\n    let value2 = rowB.querySelector(\n      `td:nth-child(${columnIndex + 1})`,\n    ).textContent;\n\n    if (columnIndex === 3 || columnIndex === 4) {\n      value1 = convertToNumber(value1);\n      value2 = convertToNumber(value2);\n    }\n\n    if (isReverse) {\n      [value1, value2] = [value2, value1];\n    }\n\n    return typeof value1 === 'string' && typeof value2 === 'string'\n      ? value1.localeCompare(value2)\n      : value1 - value2;\n  });\n\n  rows.forEach((row) => tbody.appendChild(row));\n}\n\nnav.forEach((th, index) => {\n  th.addEventListener('click', () => {\n    count++;\n    sortList(index, count % 2 === 0);\n  });\n});\n\ntbody.addEventListener('click', (e) => {\n  const row = e.target.closest('tbody tr');\n\n  if (!row) {\n    return;\n  }\n\n  if (activeRow) {\n    activeRow.classList.remove('active');\n  }\n\n  row.classList.add('active');\n  activeRow = row;\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nform.innerHTML = `\n<label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\" ></label>\n<label>Position: <input name=\"position\" type=\"text\" data-qa=\"position\" ></label>\n<label>Office: <select name=\"office\" data-qa=\"office\" >\n    <option value=\"Tokyo\" selected>Tokyo</option>\n    <option value=\"Singapore\">Singapore</option>\n    <option value=\"London\">London</option>\n    <option value=\"New York\">New York</option>\n    <option value=\"Edinburgh\">Edinburgh</option>\n    <option value=\"San Francisco\">San Francisco</option>\n  </select>\n</label>\n<label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\" ></label>\n<label>Salary: <input name=\"salary\" type=\"number\" data-qa=\"salary\" ></label>\n<button name=\"button\" type=\"submit\">Save to table</button>\n`;\n\nbody.appendChild(form);\n\nfunction pushNotification(type, titleText, descriptionText) {\n  const notification = document.createElement('div');\n  const notificationTitle = document.createElement('h2');\n  const notificationDescription = document.createElement('p');\n\n  notification.setAttribute('data-qa', 'notification');\n  notification.classList.add('notification', type);\n  notificationTitle.classList.add('title');\n\n  notificationTitle.textContent = titleText;\n  notificationDescription.textContent = descriptionText;\n\n  notification.style.top = '70%';\n\n  notification.append(notificationTitle, notificationDescription);\n\n  document.body.appendChild(notification);\n\n  setTimeout(() => {\n    notification.style.visibility = 'hidden';\n  }, 4000);\n}\n\nfunction pushSuccessNotification() {\n  return pushNotification(\n    'success',\n    'Congratulation!',\n    'Employee added successfully!',\n  );\n}\n\nfunction pushErrorNotification(message) {\n  return pushNotification('error', 'Error', message);\n}\n\nform.addEventListener('submit', (ev) => {\n  ev.preventDefault();\n\n  const data = new FormData(form);\n  const formName = data.get('name');\n  const position = data.get('position');\n  const office = form.querySelector('[name=\"office\"]').value;\n  const age = data.get('age');\n  const salary = data.get('salary');\n\n  const newRow = document.createElement('tr');\n\n  const newName = document.createElement('td');\n\n  newName.textContent = formName;\n\n  if (formName === '') {\n    pushErrorNotification('Please enter your name');\n\n    return;\n  }\n\n  if (position === '') {\n    pushErrorNotification('Please enter your position');\n\n    return;\n  }\n\n  if (age.toString() === '') {\n    pushErrorNotification('Please enter your age');\n\n    return;\n  }\n\n  if (salary.toString() === '') {\n    pushErrorNotification('Please enter your salary');\n\n    return;\n  }\n\n  if (formName.length < 4) {\n    pushErrorNotification('Name must be at least 4 letters');\n\n    return;\n  }\n  newRow.appendChild(newName);\n\n  const newPosition = document.createElement('td');\n\n  newPosition.textContent = position;\n  newRow.appendChild(newPosition);\n\n  const newOffice = document.createElement('td');\n\n  newOffice.textContent = office;\n  newRow.appendChild(newOffice);\n\n  const newAge = document.createElement('td');\n\n  newAge.textContent = age;\n\n  if (age < 18 || age > 90) {\n    pushErrorNotification('Age must be between 18 and 90');\n\n    return;\n  }\n  newRow.appendChild(newAge);\n\n  const newSalary = document.createElement('td');\n  const salaryToStr = salary\n    .toString()\n    .split('')\n    .reverse()\n    .map((num, index) => (index % 3 === 0 && index !== 0 ? `${num},` : num))\n    .reverse()\n    .join('');\n\n  newSalary.textContent = `$${salaryToStr}`;\n  newRow.appendChild(newSalary);\n\n  tbody.appendChild(newRow);\n  updateRows();\n  pushSuccessNotification();\n});\n\ntbody.addEventListener('dblclick', (eve) => {\n  const cell = eve.target.closest('td');\n  const newInput = document.createElement('input');\n  const cellIndex = Array.from(cell.parentElement.children).indexOf(cell) + 1;\n  const currentValue = cell.textContent;\n\n  if (!cell) {\n    return;\n  }\n\n  newInput.textContent = '';\n\n  if (cellIndex === 4 || cellIndex === 5) {\n    newInput.setAttribute('type', 'number');\n  } else {\n    newInput.setAttribute('type', 'text');\n  }\n\n  newInput.classList.add('cell-input');\n  newInput.value = currentValue;\n\n  cell.textContent = '';\n  cell.appendChild(newInput);\n\n  newInput.addEventListener('blur', () => {\n    let newValue = newInput.value.trim();\n\n    if (cellIndex === 5) {\n      newValue = `$${newInput.value\n        .toString()\n        .split('')\n        .reverse()\n        .map((num, index) => (index % 3 === 0 && index !== 0 ? `${num},` : num))\n        .reverse()\n        .join('')}`;\n    }\n\n    cell.textContent = newValue === '' ? currentValue : newValue;\n  });\n\n  newInput.addEventListener('keydown', (k) => {\n    if (k.key === 'Enter') {\n      newInput.blur();\n    }\n  });\n\n  newInput.focus();\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}